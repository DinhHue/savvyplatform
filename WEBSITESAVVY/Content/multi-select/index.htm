<html>
  <head>
    <link href="css/multi-select.css" media="screen" rel="stylesheet" type="text/css">
	<script src="http://code.jquery.com/jquery-1.7.0.js" type="text/javascript"></script>
	
	<style type="text/css">
        input.search-input {
			box-sizing: border-box;
			width: 100%;
			margin-bottom: 5px;
			height: auto;
		}
    </style>

	
  </head>
  <body>
  
    <select multiple="multiple" id="my-select" class="searchable" name="my-select[]">
      <option value='elem_1'>elem 1</option>
      <option value='elem_2'>elem 2</option>
      <option value='elem_3'>elem 3</option>
      <option value='elem_4'>elem 4</option>
	  <option value='elem_5'>elem 5</option>
	  <option value='elem_6'>elem 6</option>
	  <option value='elem_7'>elem 7</option>
	  <option value='elem_8'>elem 8</option>
	  <option value='elem_9'>elem 9</option>
      <option value='elem_100'>elem 100</option>
    </select>
    <script src="./js/jquery.multi-select.js" type="text/javascript"></script>
	<script src="./js/jquery.quicksearch.js" type="text/javascript"></script>
	
	<script>
		$('.searchable').multiSelect({
			selectableHeader: "<input type='text' class='search-input' autocomplete='off' placeholder='key press'>",
			selectionHeader: "<input type='text' class='search-input' autocomplete='off' placeholder='key press'>",
			afterInit: function(ms){
			var that = this,
				$selectableSearch = that.$selectableUl.prev(),
				$selectionSearch = that.$selectionUl.prev(),
				selectableSearchString = '#'+that.$container.attr('id')+' .ms-elem-selectable:not(.ms-selected)',
				selectionSearchString = '#'+that.$container.attr('id')+' .ms-elem-selection.ms-selected';

				that.qs1 = $selectableSearch.quicksearch(selectableSearchString)
					.on('keydown', function(e){
						if (e.which === 40){
							that.$selectableUl.focus();
							return false;
						}
					});

				that.qs2 = $selectionSearch.quicksearch(selectionSearchString)
					.on('keydown', function(e){
						if (e.which == 40){
							that.$selectionUl.focus();
							return false;
						}
					});
			},
			afterSelect: function(){
				this.qs1.cache();
				this.qs2.cache();
			},
			afterDeselect: function(){
				this.qs1.cache();
				this.qs2.cache();
			}
		});
	</script>
	
  </body>
</html>